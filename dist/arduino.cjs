"use strict";var d=t=>{throw TypeError(t)};var _=(t,s,n)=>s.has(t)||d("Cannot "+n);var l=(t,s,n)=>s.has(t)?d("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n);var u=(t,s,n)=>(_(t,s,"access private method"),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("./kernel-DSUxKxea.cjs"),i=require("./relay-DCYBtlJ2.cjs");var r,h;class p extends c.Kernel{constructor({filters:n=null,config_port:o=null,no_device:a=1}={}){super({filters:n,config_port:o,no_device:a});l(this,r);if(this.__internal__.device.type="arduino",c._.getCustom(this.typeDevice,a))throw new Error(`Device ${this.typeDevice} ${a} already exists`);this.__internal__.time.response_connection=2e3,this.__internal__.time.response_general=2e3,this.__internal__.serial.delay_first_connection=1e3,u(this,r,h).call(this),c._.add(this),this.getResponseAsString()}serialMessage(n){const o=this.stringToArrayHex(n),a=this.stringToArrayBuffer(n),e={original_code:o,arrayBuffer:a,code:null,name:null,description:null,request:null,no_code:0};switch(e.code=n,n){case"connected":e.name="connected",e.description="Connection established",e.request="connect",e.no_code=100;break;case"created by danidoble":e.name="thanks",e.description="thanks for using this software",e.request="credits",e.no_code=101;break;case"hello there":e.name="hello there",e.description="hi human",e.request="hi",e.no_code=102;break;case"ara ara":e.name="ara ara",e.description="troll",e.request="ara ara",e.no_code=404;break;default:e.name="unknown",e.description="Unknown command",e.request="unknown",e.no_code=400;break}this.dispatch("serial:message",e)}serialSetConnectionConstant(n=1){return i.i.connection(n)}async sayCredits(){await this.appendToQueue(i.i.credits(),"credits")}async sayHi(){await this.appendToQueue(i.i.hi(),"hi")}async sayAra(){await this.appendToQueue(i.i.ara(),"ara")}async sendCustomCode({code:n=""}={}){if(typeof n!="string")throw new Error("Invalid string");await this.appendToQueue(this.parseStringToTextEncoder(n),"custom")}async doSomething(){await this.sayCredits(),await this.sayAra(),await this.sayHi()}}r=new WeakSet,h=function(){};exports.Arduino=p;
